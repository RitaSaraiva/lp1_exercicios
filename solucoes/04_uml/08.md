## Pergunta

8 - (continuação do [exercício 37](03_poo.md#ex37) de Programação por Objetos)

Considera a seguinte classe:

```cs
public abstract class NPC
{
    public float HP { get; protected set; }

    public NPC(float hp)
    {
        HP = hp;
    }

    public void PlayTurn()
    {
        if (FindEnemies())
        {
            AttackEnemies();
        }
        if (FindFood())
        {
            EatFood();
        }
        Move();
    }

    protected abstract bool FindFood();
    protected abstract bool FindEnemies();
    protected abstract void EatFood();
    protected abstract void AttackEnemies();

    protected virtual void Move()
    {
        Console.WriteLine(this.GetType() + " has moved!");
    }
}
```

## Soluções

### Solução 1

1. SubClasses:
   
Classe `Orcs`

```cs
using System;

public class Orcs : NPC
{
    Random rnd;
    int counter = 0;

    public Orcs(float hp) : base(hp) { }

    protected override void AttackEnemies()
    {
        Console.WriteLine("You attacked a enemie with your big axe");
    }

    protected override void EatFood()
    {
        Console.WriteLine("You ate a big chicken");
    }

    protected override bool FindEnemies()
    {
        //se o número aleatório for para o jogador encontra um inimigo
        rnd = new Random();
        int chance = rnd.Next(0, 10);

        if (chance % 2 == 0)
        {
            Console.WriteLine("You found one angry enemie");
            return true;
        }
        else
        {
            Console.WriteLine("You didn't find anything");
            return false;
        }
    }

    protected override bool FindFood()
    {
        //uma vez o jogador encontra comida e na vez seguinte não encontra
        //seguindo este ciclo
        if (counter == 0)
        {
            counter++;
            Console.WriteLine("You found food");
            return true;
        }
        else
        {
            counter = 0;
            Console.WriteLine("you didn't find anything");
            return false;
        }
    }
}
```

Classe `NightElf`

```cs
using System;

public class NightElf : NPC 
{
    Random rnd;

    public NightElf(float hp) : base(hp) { }

    protected override bool FindFood()
    {
        //Se o jogador adivinhar o número aleatório de 1 a 3,consegue 
        //encontrar comida
        int answer;
        rnd = new Random();
        int chance = rnd.Next(0, 3);

        Console.WriteLine("if you guess the number from 1 to 3 that im " +
            "thinking of right i will give you food");
        answer = Convert.ToInt32(Console.ReadLine());
        if (chance == answer)
        {
            Console.WriteLine("You found tree");
            return true;
        }
        else
        {
            Console.WriteLine("You didn't find anything");
            return false;
        }
    }

    protected override bool FindEnemies()
    {
        //se os dois numeros random forem iguais encontra-se um inimigo
        rnd = new Random();
        int chance = rnd.Next(0, 5);
        int chance1 = rnd.Next(0, 5);

        if (chance == chance1)
        {
            Console.WriteLine("You found a enemie");
            return true;
        }
        else
        {
            Console.WriteLine("You didn't find anything");
            return false;
        }
    }

    protected override void EatFood()
    {
        Console.WriteLine("You attacked a enemie with yourspell");
    }

    protected override void AttackEnemies()
    {
        Console.WriteLine("You ate a big tree");
    }

}
```

Classe `BloodElf`

```cs
using System;

public class BloodElf : NPC
{
    Random rnd;

    public BloodElf(float hp) : base(hp) { }

    protected override void AttackEnemies()
    {
        Console.WriteLine("You attacked a enemie with your dagger");
    }

    protected override void EatFood()
    {
        Console.WriteLine("You ate a big chicken");
    }

    protected override bool FindEnemies()
    {
        //se o número aleatório for 1 o jogador encontra uminimigo
        rnd = new Random();
        int chance = rnd.Next(1, 2);

        if (chance == 1)
        {
            Console.WriteLine("You found one ugly enemie");
            return true;
        }
        else
        {
            Console.WriteLine("You didn't find anything");
            return false;
        }
    }

    protected override bool FindFood()
    {
        // Se o valor do número aleatório for maior que 70 ojogador 
        //encontra comida
        rnd = new Random();
        int chance = rnd.Next(1, 100);

        if (chance > 70)
        {
            Console.WriteLine("You found food!");
            return true;
        }

        else 
        {
            Console.WriteLine("Yound nothing you are probablygoing to " +
                "die");
            return false;
        }
    }
}
```
2. Presença de Polimorfismo:
   
    Pode-se observar a prensença de polimorfismo no programa nos métodos das 
    subclasses e nos seus construtores.

3. Classe Program:

```cs
using System;
using System.Collections.Generic;

class Program
{
    static void Main(string[] args)
    {
        //Instanciar cada classe
        Orcs orc1 = new Orcs(70.0f);
        NightElf nightelf1 = new NightEl(60.0f);
        BloodElf bloodelf1 = new BloodEl(50.0f);

        //Criar lista
        List<NPC> lst = new List <NPC> (){orc1, nightelf1, bloodelf1};

        //Percorrer lista
        foreach (NPC i in lst) i.PlayTurn();

    }
}
```


*Por [Rita Saraiva](https://github.com/RitaSaraiva).*